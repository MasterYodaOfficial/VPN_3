# –ü–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ —Ä–∞–∑–≤–∏—Ç–∏—è –±–æ—Ç–∞ –Ω–∞ Remna API

–≠—Ç–æ –¥–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞ –ø–æ –ø–µ—Ä–µ—Ö–æ–¥—É —Å –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –±—ç–∫–µ–Ω–¥–∞ –Ω–∞ `FastAPI` –Ω–∞ –≥–æ—Ç–æ–≤—É—é –ø–∞–Ω–µ–ª—å `Remna`.

## ‚úÖ –§–∞–∑–∞ 1: –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞—á–∏ (MVP)

*   [x] **API: –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (`POST /users`)**
    -   [x] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ —Å–µ—Ä–≤–∏—Å `register_user_service`.
    -   [x] –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∫–æ–Ω—Ç–∞–∫—Ç–µ —Å –±–æ—Ç–æ–º —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Remna —á–µ—Ä–µ–∑ API.
    -   [x] –°–æ—Ö—Ä–∞–Ω—è—Ç—å `id` –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ Remna –≤ –Ω–∞—à—É –ë–î –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `telegram_id` –∫–∞–∫ –≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á.

*   [x] **API: –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏ (`POST /subscriptions`)**
    -   [x] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ —Å–µ—Ä–≤–∏—Å—ã `create_trial_sub` –∏ `confirm_payment_service`.
    -   [x] –ü—Ä–∏ –≤—ã–¥–∞—á–µ —Ç—Ä–∏–∞–ª–∞ –∏–ª–∏ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç—ã —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–æ–¥–ø–∏—Å–∫—É –≤ Remna.
    -   [x] –ü–æ–ª—É—á–∞—Ç—å –æ—Ç Remna **—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—É—é —Å—Å—ã–ª–∫—É-–ø–æ–¥–ø–∏—Å–∫—É** –∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –µ–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.

*   [x] **API: –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (`GET /users/{id}/subscriptions`)**
    -   [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤ —Ö–µ–Ω–¥–ª–µ—Ä–µ "‚öôÔ∏è –ü–æ–ª—É—á–∏—Ç—å –¥–µ–π—Å—Ç–≤—É—é—â–∏–µ –∫–æ–Ω—Ñ–∏–≥–∏" (`get_conf`).
    -   [x] –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å —É Remna —Å–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–¥–ø–∏—Å–æ–∫ –∏ –∏—Ö —Å—Å—ã–ª–æ–∫.
    -   [x] –§–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å–æ–æ–±—â–µ–Ω–∏–µ —Å–æ —Å–ø–∏—Å–∫–æ–º.

*   [x] **API: –ü—Ä–æ–¥–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏ (`POST /subscriptions/{id}/renew`)**
    -   [x] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ `confirm_payment_service` –¥–ª—è –ª–æ–≥–∏–∫–∏ –ø—Ä–æ–¥–ª–µ–Ω–∏—è.
    -   [x] –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç—ã —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –ø–æ–¥–ø–∏—Å–∫–∏ –≤—ã–∑—ã–≤–∞—Ç—å —ç—Ç–æ—Ç —ç–Ω–¥–ø–æ–∏–Ω—Ç.

---

## üöÄ –§–∞–∑–∞ 2: –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (–ü–æ–≤—ã—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞)

*   [x] **API: –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Ç–∞—Ä–∏—Ñ—ã (`GET /plans`)**
    -   [x] –ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å —Ö–µ–Ω–¥–ª–µ—Ä—ã `get_tariff_buy` –∏ `get_tariff_extend`.
    -   [x] –í–º–µ—Å—Ç–æ "–∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–Ω—ã—Ö" —Ç–∞—Ä–∏—Ñ–æ–≤, –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å –∏—Ö —Å–ø–∏—Å–æ–∫ —É Remna API.
    -   [x] –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É —Å —Ç–∞—Ä–∏—Ñ–∞–º–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ—Ç–≤–µ—Ç–∞.

*   [ ] **API: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç—Ä–∞—Ñ–∏–∫–∞ (`GET /users/{id}/stats`)**
    -   [ ] –î–æ–ø–æ–ª–Ω–∏—Ç—å —Ö–µ–Ω–¥–ª–µ—Ä `/profile`.
    -   [ ] –ó–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å —É Remna —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ —Ç—Ä–∞—Ñ–∏–∫—É –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
    -   [ ] –û—Ç–æ–±—Ä–∞–∂–∞—Ç—å –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏ –ø—Ä–æ—Ñ–∏–ª—è: `–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ: {download} –ì–ë`.

*   [ ] **API: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–µ—Ä–≤–µ—Ä–æ–≤ –¥–ª—è –∞–¥–º–∏–Ω–∞ (`GET /nodes`)**
    -   [ ] –£–ª—É—á—à–∏—Ç—å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (`/admin`).
    -   [ ] –ó–∞–º–µ–Ω–∏—Ç—å —Ç–µ–∫—É—â—É—é –ª–æ–≥–∏–∫—É —Å–±–æ—Ä–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –Ω–∞ –∑–∞–ø—Ä–æ—Å –∫ Remna API.
    -   [ ] –í—ã–≤–æ–¥–∏—Ç—å —Å—Ç–∞—Ç—É—Å (`online`/`offline`) –∏ –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ –ù–æ–¥—ã.

---

## üåü –§–∞–∑–∞ 3: –ë—É–¥—É—â–µ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ (–ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏–π —Ä–æ—Å—Ç)

*   [ ] **API: –°–±—Ä–æ—Å —Ç—Ä–∞—Ñ–∏–∫–∞ (`POST /users/{id}/reset-traffic`)**
    -   [ ] –î–æ–±–∞–≤–∏—Ç—å –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –∫–æ–º–∞–Ω–¥—É `/reset_traffic {user_id}`.
    -   [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ö–µ–Ω–¥–ª–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å —ç—Ç–æ—Ç —ç–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è –ø–æ–º–æ—â–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º.

*   [ ] **API: –ö–∞—Å—Ç–æ–º–Ω—ã–µ –ø–æ–¥–ø–∏—Å–∫–∏ (–ø–æ–¥–∞—Ä–∫–∏)**
    -   [ ] –°–æ–∑–¥–∞—Ç—å –∞–¥–º–∏–Ω-–∫–æ–º–∞–Ω–¥—É `/gift {user_id} {days}`.
    -   [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ö–µ–Ω–¥–ª–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å `POST /subscriptions` —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏.

*   [ ] **API: –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π (`GET /users/{id}/connections`)**
    -   [ ] –°–æ–∑–¥–∞—Ç—å –∞–¥–º–∏–Ω-–∫–æ–º–∞–Ω–¥—É `/check_user {user_id}`.
    -   [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ö–µ–Ω–¥–ª–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å —É Remna –ª–æ–≥ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –µ–≥–æ –∞–¥–º–∏–Ω—É –¥–ª—è –ø–æ–º–æ—â–∏ –≤ —Ä–µ—à–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º.